<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Amslib_Validator</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/prettify.js"></script><script language=JavaScript src="../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad();prettyPrint();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.52 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CClass"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="Amslib_Validator"></a>Amslib_Validator</h1><div class=CBody><p>Validates a form posted from the browser to see whether the data conforms to the expected types</p><p>future improvements</p><ul><li>Add a url validator method perhaps?</li><li>move the required parameter into the options structure</li><li>Allow a date to validate between two unix timestamps defining the start and end period (useful for birthdates, restriction of dates based on product availability etc)</li></ul><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#Amslib_Validator" >Amslib_Validator</a></td><td class=SDescription>Validates a form posted from the browser to see whether the data conforms to the expected types</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Amslib_Validator.Variables" >Variables</a></td><td class=SDescription></td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.$__types" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">$__types</a></td><td class=SDescription>Contains all the registered types that are allowed to validate, in order to add a new validator you must register it&rsquo;s type in the constructor</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#Amslib_Validator.$__error" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">$__error</a></td><td class=SDescription>Contains an array of strings which represent data elements which failed to validate</td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.$__items" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">$__items</a></td><td class=SDescription>Contains an array of items to validate from the source data array, the source might contain 100 elements, but you only want to validate 20, this is how we know which to validate and which to ignore</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#Amslib_Validator.$__source" id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">$__source</a></td><td class=SDescription>The source array of data to validate according to the rules attached to the items</td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.$__validData" id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">$__validData</a></td><td class=SDescription>The data from the source array which was validated correctly, this is wanted usually to refill the form with information after a failed validation has occured, to stop the user from having to retype all the form again</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#Amslib_Validator.$__hasExecuted" id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">$__hasExecuted</a></td><td class=SDescription>A toggle to know whether the validator has run or not, sometimes this is wanted to know whether or not to bother obtaining information about the status of validation, because it&rsquo;s simple to check whether any validation information retrieved would be correct or unnecessary</td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.$__hasRequiredRules" id=link7 onMouseOver="ShowTip(event, 'tt7', 'link7')" onMouseOut="HideTip('tt7')">$__hasRequiredRules</a></td><td class=SDescription>This flag indicates whether there are some rules which are required to pass validation in order to return success from the execute method, this is to fix an issue where if the data source was empty, the default action was to return true but if there are required rules, then empty data source means that actually, the source failed to validate, so should return false</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Amslib_Validator.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.__text" id=link8 onMouseOver="ShowTip(event, 'tt8', 'link8')" onMouseOut="HideTip('tt8')">__text</a></td><td class=SDescription>Validate a text field using the information passed to it</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Amslib_Validator.__alpha" id=link9 onMouseOver="ShowTip(event, 'tt9', 'link9')" onMouseOut="HideTip('tt9')">__alpha</a></td><td class=SDescription>Validate a text field contains only alphabetical (A-Za-z) characters</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.__alpha_relaxed" id=link10 onMouseOver="ShowTip(event, 'tt10', 'link10')" onMouseOut="HideTip('tt10')">__alpha_relaxed</a></td><td class=SDescription>Validate a text field contains alphabetical (A-Za-z) characters and some other normal human text characters</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Amslib_Validator.__dni" id=link11 onMouseOver="ShowTip(event, 'tt11', 'link11')" onMouseOut="HideTip('tt11')">__dni</a></td><td class=SDescription>Validate a Spanish DNI number. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.__nif" id=link12 onMouseOver="ShowTip(event, 'tt12', 'link12')" onMouseOut="HideTip('tt12')">__nif</a></td><td class=SDescription>Validate a Spanish NIF identication code</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Amslib_Validator.__cif" id=link13 onMouseOver="ShowTip(event, 'tt13', 'link13')" onMouseOut="HideTip('tt13')">__cif</a></td><td class=SDescription>Validate a Spanish CIF identification code</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.__nie" id=link14 onMouseOver="ShowTip(event, 'tt14', 'link14')" onMouseOut="HideTip('tt14')">__nie</a></td><td class=SDescription>Validate a Spanish NIE identification code</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Amslib_Validator.__boolean" id=link15 onMouseOver="ShowTip(event, 'tt15', 'link15')" onMouseOut="HideTip('tt15')">__boolean</a></td><td class=SDescription>Validate a boolean value that is correctly representing a boolean value (and not a string such as &ldquo;1998&rdquo;)</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.__number" id=link16 onMouseOver="ShowTip(event, 'tt16', 'link16')" onMouseOut="HideTip('tt16')">__number</a></td><td class=SDescription>Validate a numerical value</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Amslib_Validator.__email" id=link17 onMouseOver="ShowTip(event, 'tt17', 'link17')" onMouseOut="HideTip('tt17')">__email</a></td><td class=SDescription>Validate a string against an email template, if the value matches the pattern, will validate successfully</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.__domain" id=link18 onMouseOver="ShowTip(event, 'tt18', 'link18')" onMouseOut="HideTip('tt18')">__domain</a></td><td class=SDescription>Validate a domain name by performing a DNS lookup on the given information</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Amslib_Validator.__phone" id=link19 onMouseOver="ShowTip(event, 'tt19', 'link19')" onMouseOut="HideTip('tt19')">__phone</a></td><td class=SDescription>Validate a phone number</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.__date" id=link20 onMouseOver="ShowTip(event, 'tt20', 'link20')" onMouseOut="HideTip('tt20')">__date</a></td><td class=SDescription>Very simple method to convert a data to a UNIX timestamp using strtotime</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Amslib_Validator.__file" id=link21 onMouseOver="ShowTip(event, 'tt21', 'link21')" onMouseOut="HideTip('tt21')">__file</a></td><td class=SDescription>Validates the presence of a file in the uploaded data (this only works in PHP by extracting the info from the $_FILES superglobal)</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.__construct" id=link22 onMouseOver="ShowTip(event, 'tt22', 'link22')" onMouseOut="HideTip('tt22')">__construct</a></td><td class=SDescription>Constructs an object that is responsible for validating the information passed through the the parameter $source</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Amslib_Validator.add" id=link23 onMouseOver="ShowTip(event, 'tt23', 'link23')" onMouseOut="HideTip('tt23')">add</a></td><td class=SDescription>add a validation to happen on a particular field</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.remove" id=link24 onMouseOver="ShowTip(event, 'tt24', 'link24')" onMouseOut="HideTip('tt24')">remove</a></td><td class=SDescription>Remove a type from validation, perhaps it&rsquo;s part of a post-filter on the type settings for the validator</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Amslib_Validator.register" id=link25 onMouseOver="ShowTip(event, 'tt25', 'link25')" onMouseOut="HideTip('tt25')">register</a></td><td class=SDescription>Register a validation type, this allows the importation of external validator methods to act like native ones</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.execute" id=link26 onMouseOver="ShowTip(event, 'tt26', 'link26')" onMouseOut="HideTip('tt26')">execute</a></td><td class=SDescription>Execute the validator according to the rules setup</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Amslib_Validator.setError" id=link27 onMouseOver="ShowTip(event, 'tt27', 'link27')" onMouseOut="HideTip('tt27')">setError</a></td><td class=SDescription>Register an error against the field being validated</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.getErrors" id=link28 onMouseOver="ShowTip(event, 'tt28', 'link28')" onMouseOut="HideTip('tt28')">getErrors</a></td><td class=SDescription>Get the array of errors which occurred when performing the validation on the data</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Amslib_Validator.getSuccess" id=link29 onMouseOver="ShowTip(event, 'tt29', 'link29')" onMouseOut="HideTip('tt29')">getSuccess</a></td><td class=SDescription>Tests the success status of a single field</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.getValid" id=link30 onMouseOver="ShowTip(event, 'tt30', 'link30')" onMouseOut="HideTip('tt30')">getValid</a></td><td class=SDescription>Obtains the valid data array, which is an associative array of data that was deemed valid when performing all the tests, it&rsquo;s usually used when refilling the form with information to prevent the user from having to refill it manually by themselves</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Amslib_Validator.getStatus" id=link31 onMouseOver="ShowTip(event, 'tt31', 'link31')" onMouseOut="HideTip('tt31')">getStatus</a></td><td class=SDescription>Returns whether the validator has found any errors or not</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Amslib_Validator.itemCount" id=link32 onMouseOver="ShowTip(event, 'tt32', 'link32')" onMouseOut="HideTip('tt32')">itemCount</a></td><td class=SDescription>Return the count of items that has been setup for testing, this is useful to know whether rules have been associated with the validator or  not</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Amslib_Validator.hasExecuted" id=link33 onMouseOver="ShowTip(event, 'tt33', 'link33')" onMouseOut="HideTip('tt33')">hasExecuted</a></td><td class=SDescription>Whether or not the validation has executed or not (useful to know as a shortcut to see whether the data contained on the state of the validation is valid or not)</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.Variables"></a>Variables</h3></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.$__types"></a>$__types</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">protected $__types</td></tr></table></blockquote><p>Contains all the registered types that are allowed to validate, in order to add a new validator you must register it&rsquo;s type in the constructor</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.$__error"></a>$__error</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">protected $__error</td></tr></table></blockquote><p>Contains an array of strings which represent data elements which failed to validate</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.$__items"></a>$__items</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">protected $__items</td></tr></table></blockquote><p>Contains an array of items to validate from the source data array, the source might contain 100 elements, but you only want to validate 20, this is how we know which to validate and which to ignore</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.$__source"></a>$__source</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">protected $__source</td></tr></table></blockquote><p>The source array of data to validate according to the rules attached to the items</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.$__validData"></a>$__validData</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">protected $__validData</td></tr></table></blockquote><p>The data from the source array which was validated correctly, this is wanted usually to refill the form with information after a failed validation has occured, to stop the user from having to retype all the form again</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.$__hasExecuted"></a>$__hasExecuted</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">protected $__hasExecuted</td></tr></table></blockquote><p>A toggle to know whether the validator has run or not, sometimes this is wanted to know whether or not to bother obtaining information about the status of validation, because it&rsquo;s simple to check whether any validation information retrieved would be correct or unnecessary</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.$__hasRequiredRules"></a>$__hasRequiredRules</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">protected $__hasRequiredRules</td></tr></table></blockquote><p>This flag indicates whether there are some rules which are required to pass validation in order to return success from the execute method, this is to fix an issue where if the data source was empty, the default action was to return true but if there are required rules, then empty data source means that actually, the source failed to validate, so should return false</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__text"></a>__text</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __text(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Validate a text field using the information passed to it</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>The name of the field</td></tr><tr><td class=CDLEntry>value</td><td class=CDLDescription>The value of the field</td></tr><tr><td class=CDLEntry>required</td><td class=CDLDescription>Boolean true or false whether the field is mandatory or not</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>Validation restrictions: minlength,maxlength</td></tr></table><h4 class=CHeading>returns</h4><p>If failed with the string length is zero and required being enabled, return &ldquo;TEXT_LENGTH_ZERO&rdquo; If failed with string length being below minimum length, return &ldquo;TEXT_LENGTH_IS_BELOW_MINIMUM&rdquo; If failed with string length being above maximum length, return &ldquo;TEXT_LENGTH_IS_ABOVE_MAXIMUM&rdquo; If successful, will return true and assign the valid data into the $__validData array for retrieval later</p><h4 class=CHeading>operations</h4><ul><li>Find the length of the string</li><li>If the length of the string is zero, but required, return VALIDATOR_TEXT_LENGTH_ZERO</li><li>If the length of the string is below the minimum set, return VALIDATOR_TEXT_LENGTH_IS_BELOW_MINIMUM</li><li>If the length of the string is above the maximum set, return VALIDATOR_TEXT_LENGTH_IS_ABOVE_MAXIMUM</li><li>else the validation passed, move to setting the validData</li><li>if successfully validated Set the validData item for this method</li></ul><h4 class=CHeading>notes</h4><ul><li>we should create a shared method for doing simple calculations, like &ldquo;checkLength&rdquo; to see whether the value passes this test or not</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__alpha"></a>__alpha</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __alpha(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Validate a text field contains only alphabetical (A-Za-z) characters</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>The name of the field</td></tr><tr><td class=CDLEntry>value</td><td class=CDLDescription>The value of the field</td></tr><tr><td class=CDLEntry>required</td><td class=CDLDescription>Boolean true or false whether the field is mandatory or not</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>Validation restrictions: minlength,maxlength</td></tr></table><h4 class=CHeading>returns</h4><p>If failed, will return a text string representing the error (this can be used to represent a language translation key) If successful, will return true and assign the valid data into the $__validData array for retrieval later</p><h4 class=CHeading>operations</h4><ul><li>Otherwise, validate as a alphabetical string only</li><li>If success, validation passed, set the validData to store the data and return true</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__alpha_relaxed"></a>__alpha_relaxed</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __alpha_relaxed(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Validate a text field contains alphabetical (A-Za-z) characters and some other normal human text characters</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>The name of the field</td></tr><tr><td class=CDLEntry>value</td><td class=CDLDescription>The value of the field</td></tr><tr><td class=CDLEntry>required</td><td class=CDLDescription>Boolean true or false whether the field is mandatory or not</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>Validation restrictions: minlength,maxlength</td></tr></table><h4 class=CHeading>returns</h4><p>If failed, will return a text string representing the error (this can be used to represent a language translation key) If successful, will return true and assign the valid data into the $__validData array for retrieval later</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__dni"></a>__dni</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __dni(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$code,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Validate a Spanish DNI number.&nbsp;  DNI is not the 100% correct technical name for this, but it&rsquo;s hard to give a name to it since some people call it DNI or others NIF/CIF, it was decided to call it DNI because it made the most sense, however imperfect.&nbsp;  A DNI number is a identification number for either a spanish national (NIF) a spanish company (CIF) or a foreigner (NIE)</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>The name of the field</td></tr><tr><td class=CDLEntry>$code</td><td class=CDLDescription>The value of the field</td></tr><tr><td class=CDLEntry>required</td><td class=CDLDescription>Boolean true or false whether the field is mandatory or not</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>Validation restrictions</td></tr></table><h4 class=CHeading>returns</h4><p>If code does not match any DNI like profile, will return &ldquo;DNI_INVALID&rdquo; If code does match, look for __nif, __cif or __nie for the return information, it completely delegates everything</p><h4 class=CHeading>returns</h4><p>Will set the valid value, or return VALIDATOR_DNI_INVALID for a invalid code</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__nif"></a>__nif</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __nif(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$code,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Validate a Spanish NIF identication code</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>$code</td><td class=CDLDescription>The NIF DNI code to check</td></tr></table><h4 class=CHeading>returns</h4><p>If failed because the end character did not match the correct calculated one, return &ldquo;NIF_INVALID If failed because the last letter was not a alpha character, return &ldquo;NIF_ENDCHAR_NOT_ALPHA&rdquo; If successful, will set the valid data array and return true</p><h4 class=CHeading>operations</h4><ul><li>Check the end character is a letter</li><li>obtain the numerical part and modulus against 23</li><li>The result, will be an array index into a list of validation characters</li><li>If the end letter from the dni was the same letter as the validation character then the DNI is valid</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__cif"></a>__cif</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __cif(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$code,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Validate a Spanish CIF identification code</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>$code</td><td class=CDLDescription>The CIF to check</td></tr></table><h4 class=CHeading>returns</h4><p>If failed, will return a string &ldquo;CIF_INVALID&rdquo; If successful, will set the valid data array and return true</p><h4 class=CHeading>operations</h4><ul><li>grab the last value, this is the checksum value</li><li>sum all the odd numbers together</li><li>double each even number and if above 9, add both digits together like the luhn algoritum [15 -&gt; 6 (1+5)] and add the result to the sum</li><li>obtain the modulus of the resulting sum as the control (obtain the modulus of the that as well (in case of sum = 10)</li><li>If the control equals the last value, or the letter at that index, then return positively, otherwise, failure</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__nie"></a>__nie</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __nie(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$code,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Validate a Spanish NIE identification code</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>$code</td><td class=CDLDescription>The NIE DNI code to check</td></tr></table><h4 class=CHeading>returns</h4><p>If failed, will return a string &ldquo;NIE_INVALID&rdquo; If successful, will set the valid data array and return true</p><h4 class=CHeading>notes</h4><ul><li>This is a proxy method for validateNIF, which is identical in calculation, except we need to remove the X from the front of the NIE and then check the remaining string (which is a valid NIE, or should be)</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__boolean"></a>__boolean</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __boolean(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Validate a boolean value that is correctly representing a boolean value (and not a string such as &ldquo;1998&rdquo;)</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>The name of the field</td></tr><tr><td class=CDLEntry>value</td><td class=CDLDescription>The value of the field</td></tr><tr><td class=CDLEntry>required</td><td class=CDLDescription>Boolean true or false whether the field is mandatory or not</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>Validation restrictions</td></tr></table><h4 class=CHeading>returns</h4><p>If failed, will return a string &ldquo;BOOLEAN_INVALID&rdquo; If successful, will set the validData array and return true</p><h4 class=CHeading>operations</h4><ul><li>if string, lower case it</li><li>if numeric, cast to bool</li><li>test value against some known values that normally mean &ldquo;true&rdquo;, return true or false, depends on whether it successfully matches or not</li><li>if value was not required to succeed validation, just return true</li><li>if value was boolean then if the test was not delegated assign the value to the validData array and return true</li><li>if value was not boolean, return VALIDATOR_BOOLEAN_INVALID</li></ul><h4 class=CHeading>carlos seez</h4><ul><li>Please find your boolean validation method replaced by something else that has little resemblance to the previous description, but that actually works, even if it&rsquo;s a bit eager to flag something as false. chris reply: thanks for fixing it!&nbsp; I didnt realise it would do that chris seez: I changed it again, it seems that the version was returning invalid when it found boolean false :)</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__number"></a>__number</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __number(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Validate a numerical value</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>The name of the field</td></tr><tr><td class=CDLEntry>value</td><td class=CDLDescription>The value of the field</td></tr><tr><td class=CDLEntry>required</td><td class=CDLDescription>Boolean true or false, whether the field is mandatory or not</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>Validation restrictions: minvalue, maxvalue</td></tr></table><h4 class=CHeading>returns</h4><p>If failed to validate because value is NULL, will return string &ldquo;NUMBER_IS_NULL&rdquo; If failed to validate because value is NaN (like &ldquo;abcdef&rdquo;), will return string &ldquo;NUMBER_IS_NAN&rdquo; If failed to validate because value is below minimum value will return string &ldquo;NUMBER_IS_BELOW_MINIMUM&rdquo; If failed to validate because value is above maximum value will return string &ldquo;NUMBER_IS_ABOVE_MAXIMUM&rdquo; If failed to validate because value is not in the limited input options will return string &ldquo;NUMBER_CANNOT MATCH AGAINST LIMIT&rdquo; If failed to validate because value is not the required length of characters will return string &ldquo;NUMBER_CANNOT_MATCH_LENGTH&rdquo; If failed to validate because value is shorter than required length of characters will return string &ldquo;NUMBER_CANNOT_MATCH_MINLENGTH&rdquo; If failed to validate because value is longer than required length of characters will return string &ldquo;NUMBER_CANNOT_MATCH_MAXLENGTH&rdquo; If successful, will set the data into the valid data array and return true</p><h4 class=CHeading>operations</h4><ul><li>use is_numeric to test whether value is a number or not</li><li>if required is true, but is_numeric returns false, error occurred</li><li>If value is NaN, return NAN error</li><li>If value is null, return NULL error</li><li>If value is not in limit inputs array of allowed values, return limit error</li><li>If value is not the required number of characters, return length error</li><li>If value is shorter or shorter than the required number of characters, return min or max length error</li><li>If value is above or below value restrictions, return a &ldquo;below&rdquo; or &ldquo;above&rdquo; error</li><li>else set the validData array and return true</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__email"></a>__email</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __email(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Validate a string against an email template, if the value matches the pattern, will validate successfully</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>The name of the field</td></tr><tr><td class=CDLEntry>value</td><td class=CDLDescription>The value of the field</td></tr><tr><td class=CDLEntry>required</td><td class=CDLDescription>Boolean true or false, whether the field is mandatory or not</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>Validation restrictions</td></tr></table><h4 class=CHeading>returns</h4><p>If failed because string was empty, will return &ldquo;EMAIL_EMPTY&rdquo; If failed because pattern did not match, will return &ldquo;EMAIL_INVALID&rdquo; If successful, will set validData and return true</p><h4 class=CHeading>operations</h4><ul><li>Test email string length, if zero and required is true, return &ldquo;EMAIL_EMPTY&rdquo;</li><li>Trim the resulting non-empty string from whitespace before and after</li><li>Match the string against the pattern which describes a valid email (perhaps not ALL possible valid emails, but 99% at least)</li><li>If matches, set the validData and return true</li><li>If failed, but required is NOT true, return true anyway</li><li>If required, but failed all tests, return &ldquo;EMAIL_INVALID&rdquo;</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__domain"></a>__domain</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __domain(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Validate a domain name by performing a DNS lookup on the given information</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>The name of the field</td></tr><tr><td class=CDLEntry>value</td><td class=CDLDescription>The value of the field (domain name)</td></tr><tr><td class=CDLEntry>required</td><td class=CDLDescription>Boolean true or false, whether the field is mandatory or not</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>Validation restrictions</td></tr></table><h4 class=CHeading>returns</h4><p>If domain name was an empty string, will return &ldquo;DOMAIN_EMPTY&rdquo; If domain was invalid (or no response) will return &ldquo;DOMAIN_INVALID&rdquo; If successful, will set validData and return true</p><h4 class=CHeading>notes</h4><ul><li>It is possible that this method will fail with VALID domains, because they do not respond in time</li><li>This method required a DNS lookup, which might be expensive if performed lots of times.</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__phone"></a>__phone</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __phone(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Validate a phone number</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>The name of the field</td></tr><tr><td class=CDLEntry>value</td><td class=CDLDescription>The value of the field</td></tr><tr><td class=CDLEntry>required</td><td class=CDLDescription>Boolean true or false, whether the field is mandatory or not</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>Validation restrictions: minlength</td></tr></table><h4 class=CHeading>returns</h4><p>If failed because string was empty, but required, return &ldquo;PHONE_EMPTY&rdquo; If failed because string was less than minimum length, return &ldquo;PHONE_LENGTH_INVALID&rdquo; If failed because it did not match pattern required, return &ldquo;PHONE_INVALID&rdquo;</p><h4 class=CHeading>operations</h4><ul><li>Test email string length, if zero and required is true, return &ldquo;PHONE_EMPTY&rdquo;</li><li>remove all typical non-numeric characters from phone numbers (like brackets, +, -, &ldquo; &ldquo; and periods and commas)</li><li>if the length of the string is less than the minimum, return &ldquo;PHONE_LENGTH_INVALID&rdquo;</li><li>Remove all numerical characters with nothing (removing all numerical characters means we can see how many NON numerical characters there are)</li><li>trim the result</li><li>If the string length is NOT zero, it means that alphabetical characters are found, like abcddef, etc, this is invalid, we should only have numerical characters in the string</li><li>if the string length was zero, we contained a minimum length string, that only contained numerical characters, this is valid, set the validData and return true</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__date"></a>__date</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __date(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Very simple method to convert a data to a UNIX timestamp using strtotime</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>The name of the field</td></tr><tr><td class=CDLEntry>value</td><td class=CDLDescription>The value of the field</td></tr><tr><td class=CDLEntry>required</td><td class=CDLDescription>Boolean true or false, whether the field is mandatory or not</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>Validation restrictions</td></tr></table><h4 class=CHeading>returns</h4><p>Boolean true is required AND success were both true Boolean true is required was false Boolean false if one of those conditions is not supported</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__file"></a>__file</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __file(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Validates the presence of a file in the uploaded data (this only works in PHP by extracting the info from the $_FILES superglobal)</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>The name of the field</td></tr><tr><td class=CDLEntry>value</td><td class=CDLDescription>The value of the field</td></tr><tr><td class=CDLEntry>required</td><td class=CDLDescription>Boolean true or false, whether the field is mandatory or not</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>Validation restrictions</td></tr></table><h4 class=CHeading>returns</h4><p>If failed because file was too large for the PHP configuration, return &ldquo;FILE_EXCEED_INI_SIZE&rdquo; If failed because file exceeded the HTML designated form size, return &ldquo;FILE_EXCEED_FORM_SIZE&rdquo; If failed because file was only partially uploaded, return &ldquo;FILE_PARTIAL_FILE&rdquo; If failed because file was missing or could not be located, return &ldquo;FILE_MISSING_FILE&rdquo; If failed because there was no tmp directory to upload (perhaps it was invalid) return &ldquo;FILE_NO_TMP_DIRECTORY&rdquo; If failed because tmp directory cannot be written to, return &ldquo;FILE_CANNOT_WRITE&rdquo; If failed because file extension was banned (disallowed, such as .exe), return &ldquo;FILE_BANNED_EXTENSION&rdquo; If failed because file could not be found in the $_FILES array, return &ldquo;FILE_NOT_FOUND&rdquo;</p><h4 class=CHeading>operations</h4><ul><li>Test the value was NULL or not (NULL means file didnt upload, or not uploaded)</li><li>If the file was NOT NULL, test further</li><li>Test the file exists on disk</li><li>If the file exists, set the validData and return true</li><li>If the file doesnt exist, but the file is not required, just return true anyway</li><li>If the file was required, but not found, interrogate the error to find the correct error message to return</li><li>if none of those errors matched the situation, then look to see whether the value was required</li><li>If an error could not be found, but the file cannot be found either BUT the file is not required, just put a REQUEST_FILE_NOT_FOUND message and return true (validated ok, but couldnt find anything when it was expected, it&rsquo;s not an error, it&rsquo;s just a warning)</li><li>If none of these match, then return &ldquo;FILE_NOT_FOUND&rdquo;</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.__construct"></a>__construct</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function __construct(</td><td class="PParameter  prettyprint " nowrap>$source</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Constructs an object that is responsible for validating the information passed through the the parameter $source</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>$source</td><td class=CDLDescription>The source data that will  be validated</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.add"></a>add</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function add(</td><td class="PParameter  prettyprint " nowrap>$name,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$type,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;=&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%>false,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;=&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%>array()</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>add a validation to happen on a particular field</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>The name of the field to validate</td></tr><tr><td class=CDLEntry>type</td><td class=CDLDescription>The type of the field, methodology to use when validating</td></tr><tr><td class=CDLEntry>required</td><td class=CDLDescription>Boolean true or false, whether the field is mandatory or not</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>Other validation restrictions</td></tr></table><h4 class=CHeading>notes</h4><ul><li>An idea to expand on the flexibility here is to allow a field to be validated multiple times by different types would allow you to layer validations instead of forcing the construction of customised validators which just do two or three simple validation types together, this would require changing the structures a little bit because right now, the field name is used as the key to the type of validator, we&rsquo;d have to change that so each key can have multiple types assigned to it</li><li>I think to allow an item to be validated multiple times, we could just move to a system where we don&rsquo;t use the $name parameter as the key to the __items array, we simply add a new __items[] element and then loop through them identically, we could move the $name parameter into the array assigned as the same &ldquo;name&rdquo; array index and it should work identically</li><li>I think we need to stop assigning validData items to a blank string by default, because if an item doesn&rsquo;t validate, it shouldn&rsquo;t appear in the array, but having a string here is beneficial because it means you can just print the element and it&rsquo;ll print a blank string if it failed to validate. this SOUNDS a good idea, until you start to think of situations where knowing it failed to validate by merely looking for it and seeing it&rsquo;s not present is actually useful too.&nbsp; The problem here seems to be a lack of direction, we haven&rsquo;t decided yet which is the best course of action</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.remove"></a>remove</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function remove(</td><td class="PParameter  prettyprint " nowrap>$name</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Remove a type from validation, perhaps it&rsquo;s part of a post-filter on the type settings for the validator</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>The name of the type to remove from validation</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.register"></a>register</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function register(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$callback</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Register a validation type, this allows the importation of external validator methods to act like native ones</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>$name</td><td class=CDLDescription>The name of the validation method to implment (you can override built in types here)</td></tr><tr><td class=CDLEntry>$callback</td><td class=CDLDescription>The name of the callback, can be array of two items if callback is from a class (see: call_user_func)</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.execute"></a>execute</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">public function execute()</td></tr></table></blockquote><p>Execute the validator according to the rules setup</p><h4 class=CHeading>returns</h4><p>If there are no items in the source array, return true or false, depending on whether there are required rules or not Return whether the result from calling Amslib_Validator::getStatus (true or false, true for no errors)</p><h4 class=CHeading>operations</h4><ul><li>Reset the hasExecuted flag to false</li><li>Count the number of items in the source array, if zero, return true (hasExecuted will remain false)</li><li>For each item in the rules array (see notes) validate it</li><li>Set the hasExecuted flag to true</li><li>obtain the name of the callback to execute</li><li>Find the required flag and the minlength from the validator structure</li><li>if the validator type is &ldquo;file&rdquo; obtain the file from the $_FILES superglobal and assign it as the value</li><li>Otherwise, obtain the value from the source array</li><li>Call the callback and obtain the success code</li><li>If failed, then set data into the error array</li><li>Return the status of the validator (true = no errors)</li></ul><h4 class=CHeading>notes</h4><ul><li>Rename Amslib_Validator::__items to Amslib_Validator::__rules or something more descriptive</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.setError"></a>setError</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function setError(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$error</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Register an error against the field being validated</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.getErrors"></a>getErrors</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function getErrors(</td><td class="PParameter  prettyprint " nowrap>$field</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;=&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%>NULL</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Get the array of errors which occurred when performing the validation on the data</p><h4 class=CHeading>returns</h4><p>An array of data which represents all the errors from the validator</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.getSuccess"></a>getSuccess</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function getSuccess(</td><td class="PParameter  prettyprint " nowrap>$field</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Tests the success status of a single field</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>field</td><td class=CDLDescription>The name of the field to test</td></tr></table><h4 class=CHeading>returns</h4><p>Boolean true or false, depending on whether the field was found in the error array or not</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.getValid"></a>getValid</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function getValid(</td><td class="PParameter  prettyprint " nowrap>$mergeSource</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;=&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%>NULL</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Obtains the valid data array, which is an associative array of data that was deemed valid when performing all the tests, it&rsquo;s usually used when refilling the form with information to prevent the user from having to refill it manually by themselves</p><h4 class=CHeading>parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>mergeSource</td><td class=CDLDescription>A source array that could contain a base level of data which to override with data from the validator</td></tr></table><h4 class=CHeading>returns</h4><p>An array of valid data obtained when performing the validation, will merge if requested with another array by passing it as a paramater</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.getStatus"></a>getStatus</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">public function getStatus()</td></tr></table></blockquote><p>Returns whether the validator has found any errors or not</p><h4 class=CHeading>returns</h4><p>Boolean true or false, depending on whether the validator failed any fields or not</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.itemCount"></a>itemCount</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">public function itemCount()</td></tr></table></blockquote><p>Return the count of items that has been setup for testing, this is useful to know whether rules have been associated with the validator or  not</p><h4 class=CHeading>returns</h4><p>The number of items that are being validated</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Amslib_Validator.hasExecuted"></a>hasExecuted</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">public function hasExecuted()</td></tr></table></blockquote><p>Whether or not the validation has executed or not (useful to know as a shortcut to see whether the data contained on the state of the validation is valid or not)</p><h4 class=CHeading>returns</h4><p>Boolean true or false, depending on whether the validation has executed or not</p></div></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MEntry><div class=MFile><a href="router/Amslib_Router-php.html">$domain</a></div></div><div class=MEntry><div class=MFile><a href="Amslib-php.html">Amslib.php</a></div></div><div class=MEntry><div class=MFile><a href="Amslib_Paypal-php.html">Amslib_Paypal.php</a></div></div><div class=MEntry><div class=MFile><a href="translator/Amslib_Translator-php.html">Amslib_Translator</a></div></div><div class=MEntry><div class=MFile id=MSelected>Amslib_Validator</div></div><div class=MEntry><div class=MFile><a href="database/Amslib_Database-php.html">database/<wbr>Amslib_Database.php</a></div></div><div class=MEntry><div class=MFile><a href="database/Amslib_Database_MySQL-php.html">database/<wbr>Amslib_Database_MySQL.php</a></div></div><div class=MEntry><div class=MFile><a href="plugin/Amslib_Plugin_Application-php.html">execute</a></div></div><div class=MEntry><div class=MFile><a href="router/Amslib_Router_Language-php.html">extract</a></div></div><div class=MEntry><div class=MFile><a href="file/Amslib_File-php.html">listFiles</a></div></div><div class=MEntry><div class=MFile><a href="translator/Amslib_Translator_XML-php.html">load</a></div></div><div class=MEntry><div class=MFile><a href="mvc/Amslib_MVC-php.html">mvc/<wbr>Amslib_MVC.php</a></div></div><div class=MEntry><div class=MFile><a href="Amslib_Array-php.html">remove</a></div></div><div class=MEntry><div class=MFile><a href="templates/xml_translation/objects/XML_Translation-php.html">render</a></div></div><div class=MEntry><div class=MFile><a href="templates/hello_world/objects/Hello_World-php.html">render</a></div></div><div class=MEntry><div class=MFile><a href="javascript/Amslib_ScrollBar-js.html">scrollTo</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Index</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MIndex><a href="../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Classes.html">Classes</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Files.html">Files</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Functions.html">Functions</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Variables.html">Variables</a></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Classes">Classes</option><option value="Files">Files</option><option value="Functions">Functions</option><option value="Variables">Variables</option></select></div></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">protected $__types</td></tr></table></blockquote>Contains all the registered types that are allowed to validate, in order to add a new validator you must register it&rsquo;s type in the constructor</div></div><div class=CToolTip id="tt2"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">protected $__error</td></tr></table></blockquote>Contains an array of strings which represent data elements which failed to validate</div></div><div class=CToolTip id="tt3"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">protected $__items</td></tr></table></blockquote>Contains an array of items to validate from the source data array, the source might contain 100 elements, but you only want to validate 20, this is how we know which to validate and which to ignore</div></div><div class=CToolTip id="tt4"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">protected $__source</td></tr></table></blockquote>The source array of data to validate according to the rules attached to the items</div></div><div class=CToolTip id="tt5"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">protected $__validData</td></tr></table></blockquote>The data from the source array which was validated correctly, this is wanted usually to refill the form with information after a failed validation has occured, to stop the user from having to retype all the form again</div></div><div class=CToolTip id="tt6"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">protected $__hasExecuted</td></tr></table></blockquote>A toggle to know whether the validator has run or not, sometimes this is wanted to know whether or not to bother obtaining information about the status of validation, because it&rsquo;s simple to check whether any validation information retrieved would be correct or unnecessary</div></div><div class=CToolTip id="tt7"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">protected $__hasRequiredRules</td></tr></table></blockquote>This flag indicates whether there are some rules which are required to pass validation in order to return success from the execute method, this is to fix an issue where if the data source was empty, the default action was to return true but if there are required rules, then empty data source means that actually, the source failed to validate, so should return false</div></div><div class=CToolTip id="tt8"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __text(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Validate a text field using the information passed to it</div></div><div class=CToolTip id="tt9"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __alpha(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Validate a text field contains only alphabetical (A-Za-z) characters</div></div><div class=CToolTip id="tt10"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __alpha_relaxed(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Validate a text field contains alphabetical (A-Za-z) characters and some other normal human text characters</div></div><div class=CToolTip id="tt11"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __dni(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$code,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Validate a Spanish DNI number. </div></div><div class=CToolTip id="tt12"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __nif(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$code,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Validate a Spanish NIF identication code</div></div><div class=CToolTip id="tt13"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __cif(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$code,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Validate a Spanish CIF identification code</div></div><div class=CToolTip id="tt14"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __nie(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$code,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Validate a Spanish NIE identification code</div></div><div class=CToolTip id="tt15"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __boolean(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Validate a boolean value that is correctly representing a boolean value (and not a string such as &ldquo;1998&rdquo;)</div></div><div class=CToolTip id="tt16"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __number(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Validate a numerical value</div></div><div class=CToolTip id="tt17"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __email(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Validate a string against an email template, if the value matches the pattern, will validate successfully</div></div><div class=CToolTip id="tt18"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __domain(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Validate a domain name by performing a DNS lookup on the given information</div></div><div class=CToolTip id="tt19"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __phone(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Validate a phone number</div></div><div class=CToolTip id="tt20"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __date(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Very simple method to convert a data to a UNIX timestamp using strtotime</div></div><div class=CToolTip id="tt21"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>protected function __file(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Validates the presence of a file in the uploaded data (this only works in PHP by extracting the info from the $_FILES superglobal)</div></div><div class=CToolTip id="tt22"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function __construct(</td><td class="PParameter  prettyprint " nowrap>$source</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Constructs an object that is responsible for validating the information passed through the the parameter $source</div></div><div class=CToolTip id="tt23"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function add(</td><td class="PParameter  prettyprint " nowrap>$name,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$type,</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%></td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$required</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;=&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%>false,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$options</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;=&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%>array()</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>add a validation to happen on a particular field</div></div><div class=CToolTip id="tt24"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function remove(</td><td class="PParameter  prettyprint " nowrap>$name</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Remove a type from validation, perhaps it&rsquo;s part of a post-filter on the type settings for the validator</div></div><div class=CToolTip id="tt25"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function register(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$callback</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Register a validation type, this allows the importation of external validator methods to act like native ones</div></div><div class=CToolTip id="tt26"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">public function execute()</td></tr></table></blockquote>Execute the validator according to the rules setup</div></div><div class=CToolTip id="tt27"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function setError(</td><td class="PParameter  prettyprint " nowrap>$name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$value,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>$error</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Register an error against the field being validated</div></div><div class=CToolTip id="tt28"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function getErrors(</td><td class="PParameter  prettyprint " nowrap>$field</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;=&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%>NULL</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Get the array of errors which occurred when performing the validation on the data</div></div><div class=CToolTip id="tt29"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function getSuccess(</td><td class="PParameter  prettyprint " nowrap>$field</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Tests the success status of a single field</div></div><div class=CToolTip id="tt30"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>public function getValid(</td><td class="PParameter  prettyprint " nowrap>$mergeSource</td><td class="PDefaultValuePrefix  prettyprint ">&nbsp;=&nbsp;</td><td class="PDefaultValue  prettyprint " width=100%>NULL</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Obtains the valid data array, which is an associative array of data that was deemed valid when performing all the tests, it&rsquo;s usually used when refilling the form with information to prevent the user from having to refill it manually by themselves</div></div><div class=CToolTip id="tt31"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">public function getStatus()</td></tr></table></blockquote>Returns whether the validator has found any errors or not</div></div><div class=CToolTip id="tt32"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">public function itemCount()</td></tr></table></blockquote>Return the count of items that has been setup for testing, this is useful to know whether rules have been associated with the validator or  not</div></div><div class=CToolTip id="tt33"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">public function hasExecuted()</td></tr></table></blockquote>Whether or not the validation has executed or not (useful to know as a shortcut to see whether the data contained on the state of the validation is valid or not)</div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>